(this.webpackJsonpmuscle_verb=this.webpackJsonpmuscle_verb||[]).push([[0],{66:function(e,t,n){e.exports=n(79)},71:function(e,t,n){},77:function(e,t,n){e.exports=n.p+"static/media/success.a8e58690.mp3"},78:function(e,t,n){e.exports=n.p+"static/media/fail.23730a41.mp3"},79:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(13),o=n.n(c),l=(n(71),n(47)),s=n.n(l),u=n(52),f=n(20),d=(n(46),n(116)),p=n(112),g=n(113),h=n(120),y=n(44),m=n(43),v=n(118),x=n(117),b=n(53),w=n.n(b),E=n(109);!function(e){e[e.Faded=0]="Faded",e[e.Correct=1]="Correct",e[e.Highlight=2]="Highlight"}(a||(a={}));var S,j,O=function(e){switch(e){case a.Faded:return"#eee";case a.Correct:return"green";case a.Highlight:return"brown";default:return"#eee"}},k=function(e){var t=e.word;return i.a.createElement(d.a,{display:"flex",flexDirection:"row"},t.map((function(e,t){return i.a.createElement(d.a,{key:t,paddingRight:"7px"},i.a.createElement(E.a,{elevation:3},i.a.createElement(d.a,{width:"35px",height:"55px",textAlign:"center",fontSize:"45px",lineHeight:"1",color:O(e?e.type:void 0)},e?e.char:"_")))})))},C=i.a.createContext(void 0),P="abcdefghijklmnopqrstuvwxyz ".split(""),D=function(e){var t=e.rate,n=e.blind,r=e.targetWord,c=e.sayWord,o=e.commonErrorWord,l=e.onSuccess,s=e.onFail,u=i.a.useRef(),p=i.a.useState(""),g=Object(f.a)(p,2),h=g[0],y=g[1],m=h.length,v=i.a.useContext(C);i.a.useEffect((function(){var e=new SpeechSynthesisUtterance(c||r);return e.voice=speechSynthesis.getVoices().find((function(e){return"tr-TR"===e.lang})),t&&(e.rate=t),e.lang="en-UK",window.speechSynthesis.speak(e),function(){return window.speechSynthesis.cancel()}}),[t,c,r,v]),i.a.useEffect((function(){var e=r.split("")[m];u.current&&(P.filter((function(t){return t!==e})).forEach((function(e){return u.current.physicalKeyboard.handleHighlightKeyUp({key:e,code:"key"})})),u.current.physicalKeyboard.handleHighlightKeyDown({key:e,code:"key"}))}),[m,r,c,t]),i.a.useEffect((function(){var e=function(e){var t=e.key;P.includes(t)&&(r.split("")[m]===t?m===r.length-1?l():y((function(e){return e+t})):s(h+t))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[s,l,m,r,y,h,c]);var x=o?r.split("").findIndex((function(e,t){return o.split("")[t]!==e})):void 0;return i.a.createElement(d.a,{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},i.a.createElement(d.a,{display:"flex",flexDirection:"row",margin:"10px"},i.a.createElement(k,{word:r.split("").map((function(e,t){return!n&&void 0!==x&&t===x&&t>=m?{char:e,type:a.Highlight}:!n||t<m?{char:e,type:t<m?a.Correct:a.Faded}:void 0}))})),i.a.createElement(d.a,{display:"flex",flexDirection:"row",margin:"10px"},i.a.createElement(k,{word:c.split("").map((function(e,t){return{char:e,type:a.Correct}}))})),!n&&i.a.createElement(d.a,{paddingTop:"80px",paddingX:"80px",alignSelf:"stretch"},i.a.createElement(w.a,{keyboardRef:function(e){u.current=e},onChange:function(){},onKeyPress:function(){}})))},F=n(48),I=n(77),z=n(78);!function(e){e.Success="SUCCESS",e.Fail="FAIL",e.Play="PLAY"}(j||(j={}));var H=Object(v.a)({id:"success",initial:j.Play,context:{},states:(S={},Object(m.a)(S,j.Play,{on:{success:j.Play,fail:j.Fail}}),Object(m.a)(S,j.Fail,{after:{800:{target:j.Play,actions:[]}}}),Object(m.a)(S,j.Success,{after:{1e3:j.Play}}),S)});var W=function(e){var t=e.rate,n=e.sentences,a=i.a.useState((function(){return function(e){for(var t=e,n=t.length-1;n>0;n--){var a=Math.floor(Math.random()*(n+1)),r=t[n];t[n]=t[a],t[a]=r}return t}([].concat(Object(y.a)(n),Object(y.a)(n),Object(y.a)(n)))})),r=Object(f.a)(a,1)[0],c=i.a.useState(0),o=Object(f.a)(c,2),l=o[0],s=o[1],u=r[l%r.length],p=Object(F.a)(I),g=Object(f.a)(p,1)[0],h=Object(F.a)(z),m=Object(f.a)(h,1)[0],v=Object(x.a)(H),b=Object(f.a)(v,2),w=b[0].value,E=b[1];return w===j.Play?i.a.createElement(D,{key:l,blind:!0,rate:t,targetWord:u.target,sayWord:u.original,onSuccess:function(){E({type:"success"}),g(),s((function(e){return e+1}))},onFail:function(e){e.length>1&&console.log("".concat(u.original," ").concat(u.target,"\n").concat(e," <-- error")),E({type:"fail"}),m()}}):w===j.Success?i.a.createElement(d.a,{position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"green"}}):i.a.createElement(d.a,{display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",width:"100%",height:"100%",style:{backgroundColor:"red"}},i.a.createElement(d.a,{color:"white",fontSize:"50px"},u.target))},L=n(119),K=n(114);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement((function(){var e=i.a.useState("derim;I say\ndersin;you say\nder;He says\nderiz;We say\ndersiniz;Yall say\nderler;They say\n\ndiyorum; I am saying\ndiyorsun; You are saying\ndiyor; He is saying\ndiyoruz; We are saying\ndiyorsunuz; Yall are saying\ndiyorlar; They are saying\n\n"),t=Object(f.a)(e,2),n=t[0],a=t[1],c=i.a.useState(1),o=Object(f.a)(c,2),l=o[0],y=o[1],m=i.a.useState(!1),v=Object(f.a)(m,2),x=v[0],b=v[1],w=i.a.useState([]),E=Object(f.a)(w,2),S=E[0],j=E[1];Object(r.useEffect)((function(){Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,new Promise((function(e,t){var n,a=window.speechSynthesis;n=setInterval((function(){0!==a.getVoices().length&&(e(a.getVoices()),clearInterval(n))}),10)}));case 3:e.t1=function(e){return e},e.t2=function(e){return"tr-TR"===e.lang},e.t3=function(e){return e.name},e.t4=e.sent.map(e.t1).filter(e.t2).map(e.t3),(0,e.t0)(e.t4);case 8:case"end":return e.stop()}}),e)})))()}),[]);var O=i.a.useState("Default voice"),k=Object(f.a)(O,2),P=k[0],D=k[1],F=n.split("\n").filter((function(e){return e})).map((function(e){console.log(e);var t=e.split(";").map((function(e){return e.trim()})),n=Object(f.a)(t,2);return{original:n[0],target:n[1].toLocaleLowerCase()}}));return x?i.a.createElement(C.Provider,{value:P},i.a.createElement(W,{rate:l,sentences:F})):i.a.createElement(d.a,{position:"absolute",top:"10px",bottom:"10px",left:"10px",right:"10px",display:"flex",flexDirection:"row",justifyContent:"space-around"},i.a.createElement(d.a,{display:"flex",flexDirection:"column",alignItems:"top"},i.a.createElement(d.a,{m:"10px",fontSize:"25px"},"Practice spelling:"),i.a.createElement(p.a,{value:n,onChange:function(e){if(e.target&&e.target.value){var t=e.target.value;a(t)}}}),i.a.createElement(d.a,{m:"10px",fontSize:"25px"},"Practice writing down when dictated:"),i.a.createElement(d.a,{width:"200px"},"Speech Rate: ",l,i.a.createElement(h.a,{value:l,onChange:function(e,t){return y(t)},defaultValue:1,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.1,min:.3,max:2})),i.a.createElement(d.a,null,i.a.createElement(K.a,{value:P||"Default Voice",onChange:function(e){return D(e.target.value)}},i.a.createElement(L.a,{disabled:!0,value:"Default voice"},"Default Voice"),S.map((function(e,t){return i.a.createElement(L.a,{key:t,value:e},e)})))),i.a.createElement(g.a,{onClick:function(){return b(!0)}},"Start")))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.44e34afc.chunk.js.map